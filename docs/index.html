<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">


  <style>
    #content .map path {
      fill: #ddd;
      stroke: #aaa;
    }

    #content .map path.highlight {
      fill: #54c118;
    }
  </style>
</head>

<body>
  <div id="content">
    <svg width="1200px" height="800px">
      <g class="map"></g>
    </svg>
  </div>

  <script src="https://d3js.org/d3.v5.min.js"></script>
  <script>
    var width = 1200,
      height = 800;

    d3.json('/gemeinden-sn.json')
      .then(function (data) {
        drawMap('#content g.map', data);
      })

    function drawMap(selector, data) {
      var projection = d3.geoMercator()
        .fitSize([width, height], data)

      var geoGenerator = d3.geoPath()
        .projection(projection);

      var u = d3.select(selector)
        .selectAll('path')
        .data(data.features);

      u.enter()
        .append('path')
        .attr('d', geoGenerator)
        .on('click', onClick);
    }

    function onClick(d, i) {
      console.log(d.properties['GEN']);
      d3.select('#content g.map')
        .selectAll('path')
        .classed('highlight', false);
      this.classList.add('highlight');
    }

    function highlight(element) {

    }

  </script>
</body>

</html>